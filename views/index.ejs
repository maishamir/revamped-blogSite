<%- include("partials/header.ejs") %>
<main>
  <% if (locals.posts) { %>
  <h1>Posts</h1>

  <div class="allPosts">
    <% posts.forEach(post => { %>
    <div class="postCard">
      <div class="post" id="<%= post.postId %>">
        <p class="post__title"><%= post.postTitle %></p>
        <p class="post__content"><%= post.postContent%></p>
      </div>
      <div class="postButtons">
        <a href="/editPost/<%=post.postId%>" class="postButtons--edit">
          <span class="material-symbols-outlined">edit</span>
        </a>

        <form action="/deletePost" method="post">
          <input type="hidden" value="<%=post.postId%>" name="postId" />
          <button type="submit" class="postButtons--delete">
            <span class="material-symbols-outlined">delete</span>
          </button>
        </form>
      </div>
    </div>

    <hr />
    <% }) %>
  </div>
  <% } else { %>
  <h1>Create posts to see them here!</h1>
  <% } %>
  <a href="/createPost">Add Post +</a>
</main>
<%- include("partials/footer.ejs") %>
